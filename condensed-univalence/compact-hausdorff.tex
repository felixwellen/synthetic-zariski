Recall that Stone spaces are defined as spectrum of c.p. boolean algebra, or equivalently as limits of finite types.

\begin{lemma}
A proposition is a Stone space if and only if it is closed.
\end{lemma}

\begin{proof}
The key point is that the propositional truncation of a stone space is a closed proposition.
\end{proof}

\begin{theorem}
We have the following:
\begin{enumerate}[(i)]
\item Stone spaces are stable under identity types and and sigma types.
\item Stone spaces are stable under sequential limits.
\item Stone spaces have local choice.
\end{enumerate}
\end{theorem}

\begin{proof}
All of this is known.
\end{proof}

\begin{definition}
A compact Hausdorff space is a quotient of a Stone space by an equivalence relation valued in closed propositions.
\end{definition}

\begin{lemma}\label{sequential-limit-Hausdorff}
Assume given a tower $(C_k)_{k:\N}$ of compact Hausdorff spaces. Then there exists a tower $(S_k)_{k:\N}$ of Stone spaces with maps:

\begin{center}
\begin{tikzcd}
\cdots \ar[r]& S_1\ar[r]\ar[d] & S_0 \ar[d]\\
\cdots \ar[r] & C_1\ar[r] & C_0 \\
\end{tikzcd}
\end{center}

such that the map:
\[S_0\to C_0\]
is surjective and for all $n:\N$ the induced map:
\[S_{n+1} \to C_{n+1}\times_{C_n} S_n\]
is surjective.

This implies that the induced map:
\[\lim_kS_k \to \lim_k C_k\]
is surjective.
\end{lemma}

\begin{proof}
By definition of a Compact Hausdorff type, we can merely find a Stone space $S_0$ with a surjection:
\[S_0\to C_0\]
Using dependent choice, it is enough to show that we can merely extend such a tower $(S_k)_{k\leq n}$ to $(S_k)_{k\leq n+1}$.

We choose a Stone space $T$ and a surjection:
\[T \to C_{n+1} \]
Then we define $S_{n+1}$ by the following pullback square:
\begin{center}
\begin{tikzcd}
S_{n+1}\ar[d]\ar[r] & C_{n+1}\times_{C_n} S_n\ar[r]  \ar[d]& S_n\ar[d]\\
T \ar[r] & C_{n+1}\ar[r]  & C_n
\end{tikzcd}
\end{center}
And we see the map:
\[S_{n+1} \to C_{n+1}\times_{C_n} S_n\] 
surjective as it is a pullback of the map:
\[T\to C_{n+1}\]

This implies that the map:
\[\lim_kS_k \to \lim_k C_k\]
is surjective by dependent choice.
\end{proof}

\begin{theorem}
We have the following:
\begin{enumerate}[(i)]
\item Compact Hausdorff spaces are stable under identity types and and sigma types.
\item Compact Hausdorff spaces are stable under quotients by equivalence relation with value in compact Hausdorff spaces.
\item Compact Hausdorff spaces are stable under sequential limits.
\item Compact Hausdorff space have local choice.
\end{enumerate}
\end{theorem}

\begin{proof}
We proceed as follows:
\begin{enumerate}[(i)]
\item For identity types this is because closed propositions are compact Hausdorff.

For sigma types, assume given $C$ compact Hasudorff and $D_x$ a family of compact Hausdorff spaces depending on $x:C$. We know that closed propositions are closed under sigma types therefore identity types in $\sum_{x:C}D_x$ are closed. Using local choice for Stone spaces we find we find $S$ Stone with a surjective map:
\[f:S\to C\]
and for all $x:S$ a Stone space $T_x$ with a surjective map:
\[g_x:T_x\to D_{f(x)}\]
These combine to give a surjective map:
\[\sum_{x:S}T_x \to \sum_{y:C}D_y\]
and we conclude using that Stone spaces are stable under sigma types.

\item Clear from the definition.

\item We use \cref{sequential-limit-Hausdorff} and the fact that closed proposition are stable under sequential limits.

\item From the fact that Stone spaces have local choice.
\end{enumerate}
\end{proof}

Calling them Hausdorff is reasonable as they have closed diagonal by definition. We give two reasons why calling them compact is reasonable:

\begin{lemma}\label{compact-hausdorff-compact}
Assume given $C$ compact Hausdorff and $U\subset C$ an open subtype. Then $U=C$ is open.
\end{lemma}

\begin{proof}
We show that $\neg(U=C)$ is closed. To do this it is enough to show that:
\[\neg(U=C) \leftrightarrow \exists (x:C).\neg U_x\]
but we know that $\exists (x:C).\neg U_x$ is closed and therefore $\neg\neg$-stable, we have that $U_x$ is $\neg\neg$-stable as well and we can conclude from that since we always have:
\[\neg(\forall(x:C).\ \neg\neg U_x) \to \neg\neg(\exists(x:C).\ \neg U_x)\]
\end{proof}

\begin{lemma}\label{compact-hausforff-countable-cover}
Assume given $C$ compact Hausdorff and a sequence of open subset of $C$ as follows:
\[U_0\subset U_1 \subset \cdots\]
If:
\[\forall(x:C).\exists(i:\N). x\in U_i\]
then:
\[\exists(i:\N). \forall(x:C).x\in U_i\]
\end{lemma}

\begin{proof}
By local choice we have a surjective map:
\[ f: S \to C\]
such that:
\[\forall(x:S).\Sigma (i:\N). f(x)\in U_i\]
By boundedness there is $k:\N$ such that:
\[\forall(x:S). f(x)\in U_k\]
and then we conclude by surjectivity.
\end{proof}

