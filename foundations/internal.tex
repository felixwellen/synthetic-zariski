\newcommand{\inc}{\mathsf{inc}}
\newcommand{\inl}{\mathsf{inl}}
\newcommand{\inr}{\mathsf{inr}}
\newcommand{\idd}{\mathsf{id}}
%\newcommand{\UU}{\mathcal{U}}
\newcommand{\II}{\mathbf{I}}
\newcommand{\nats}{\mathbb{N}}
\newcommand\norm[1]{\left\lVert #1 \right\rVert}


\newcommand{\ext}{\mathsf{ext}}
\newcommand{\patch}{\mathsf{patch}}
\newcommand{\cov}{\mathsf{cov}}
\newcommand{\isSheaf}{\mathsf{isSheaf}}
\newcommand{\isIso}{\mathsf{isIso}}
\newcommand{\Fib}{\mathsf{Fib}}

\newcommand{\Typp}{\mathsf{Type}}
\newcommand{\Elem}{\mathsf{Elem}}
\newcommand{\Cont}{\mathsf{Cont}}

\newcommand{\BB}{\square}
\newcommand{\CC}{\mathcal{C}}
\newcommand{\UU}{\mathcal{U}}
\newcommand{\WW}{\mathcal{W}}
\newcommand{\VV}{\mathcal{V}}

In this section, we present a model of the 3 axioms stated in \Cref{statement-of-axioms}.
This model is best described as an \emph{internal} model
of a presheaf model. The first part can then be described purely syntactically, starting from any model
of 4 other axioms that are valid in a suitable \emph{presheaf} model. We obtain then the sheaf model by defining
a family of open left exact modalities, and the new model is the model of types that are modal for all these modalities.
This method works both in a $1$-topos framework and for models of univalent type theory.

\subsection{Internal sheaf model}

\subsubsection{Axioms for the presheaf model}

We start from 4 axioms. The 3 first axioms can be seen as variation of our 3 axioms for synthetic algebraic geometric.

\begin{enumerate}[(1)]
\item $\A$ is a ring,
\item for any f.p.\ $\A$-algebra $A$, the canonical map $A\rightarrow \A^{\Spec(A)}$ is an equivalence
\item for any f.p.\ $\A$-algebra $A$, the set $\Spec(A)$ satisfies choice, which can be formulated as
  the fact that for any family of types $P(x)$ for $x:\Spec(A)$ there is a map
  $(\Pi_{x:\Spec(A)}\norm{P(x)})\rightarrow \norm{\Pi_{x:\Spec(A)}P(x)}$.
\item for any f.p.\ $\A$-algebra $A$, the diagonal map $\nats\rightarrow\nats^{\Spec(A)}$ is an equivalence.
\end{enumerate}

As before, $\Spec(A)$ denotes the type of $\A$-algebra maps from $A$ to $\A$, and
if $r$ is in $\A$, we write $D(r)$ for the proposition $\Spec(\A_r)$.

Note that the first axiom does not require
$\A$ to be local, and the third axiom states that $\Spec(A)$ satisfies \emph{choice} and not only Zariski local choice,
for any f.p. $\A$-algebra $A$.


\subsubsection{Justification of the axioms for the presheaf model}

\newcommand{\FP}{\mathsf{FP}}

We justify briefly the second axiom (synthetic quasi-coherence). This justification will be done
in a $1$-topos setting, but exactly the same argument holds in the setting of presheaf models of
univalent type theory, since it only involves strict presheaves. A similar direct verification holds
for the other axioms.

We work with presheaves on the opposite of the category of finitely presented $k$-algebra. We write
$L,M,N,\dots$ for such objects, and $f,g,h,\dots$ for the morphisms. A presheaf $F$ on this category is given
by a collection of sets $F(L)$ with restriction maps $F(L)\rightarrow F(M),~u\mapsto f u$ for
$f:L\rightarrow M$ satisfying the usual uniformity conditions.

We first introduce the presheaf $\FP$ of {\em finite presentations}. This is internally the type
$$
\Sigma_{n:\nats}\Sigma_{m:\nats}\A[X_1,\dots,X_n]^m
$$
which is interpreted by $\FP(L) = \Sigma_{n:\nats}\Sigma_{m:\nats}L[X_1,\dots,X_n]^m$.
If $\xi = (n,m,q_1,\dots,q_m)\in\FP(L)$ is such a presentation, we build a natural extension
$\iota:L\rightarrow L_{\xi} = L[X_1,\dots,X_n]/(q_1,\dots,q_m)$ where the system $q_1 = \dots = q_m = 0$
has a solution $s_{\xi}$. Furthermore, if we have another extension $f:L\rightarrow M$
and a solution $s\in M^n$ of this system in $M$, there exists a unique map $i(f,s):L_{\xi}\rightarrow M$
such that $i(f,s) s_{\xi} = s$ and $i(f,s)\circ \iota = f$.
Note that $i(\iota,s_{\xi}) = \id$.

\medskip

Internally, we have a map $A:\FP\rightarrow \A\mathsf{-alg}(\UU_0)$, which to any presentation
$\xi = (n,m,q_1,\dots,q_m)$ associates the $\A$-algebra $A(\xi) = L[X_1,\dots,X_n]/(q_1,\dots,q_m)$.
This corresponds externally to the presheaf on the category of elements of $\FP$ defined
by $A(L,\xi) = L_{\xi}$.

Internally, we have a map $\Spec(A):\FP\rightarrow \UU_0$, defined by $\Spec(A)(\xi) = Hom(A(\xi),\A)$.
We can replace it by the isomorphic map which to $\xi = (n,m,q_1,\dots,q_m)$ associates the set
$S(\xi)$ of solutions of the system $q_1=\dots=q_m= 0$ in $\A^n$.
Externally, this corresponds to the presheaf on the category of elements of $\FP$ so that
$\Spec(A)(L,n,m,q_1,\dots,q_m)$ is the set of solutions of the system $q_1=\dots=q_m=0$ in $L^n$.

\medskip

We now define externally two inverse maps $\varphi:A(\xi)\rightarrow \A^{\Spec(A(\xi))}$ and
$\psi:\A^{\Spec(A(\xi))}\rightarrow A(\xi)$.

\medskip

Notice first that $\A^{\Spec(A)}(L,\xi)$, for $\xi = (n,m,q_1,\dots,q_m)$,
is the set of families of elements $l_{f,s}:M$ indexed by $f:L\rightarrow M$
and $s:M^n$ a solution of $fq_1 = \dots = fq_m=0$, satisfying the uniformity condition
$g(l_{f,s}) = l_{(g\circ f),gs}$ for $g:M\rightarrow N$.

\medskip

For $u$ in $A(L,\xi) = L_{\xi}$ we define $\varphi~u$ in $\A^{\Spec(A)}(L,\xi)$ by
$$
(\varphi~u)_{f,s} = i(f,s)~u
$$
and for $l$ in $\A^{\Spec(A)}(L,\xi)$ we define $\psi~l$ in $A(L,\xi) = L_{\xi}$ by
$$
\psi~ l = l_{\iota,s_{\xi}}
$$
These maps are natural, and one can check
$$
\psi~(\varphi~u) = (\varphi~u)_{\iota,s_{\xi}} = i(\iota,s_{\xi})~u = u
$$
and
$$
(\varphi~(\psi~l))_{f,s} = i(f,s)~(\psi~l) = i(f,s)~l_{\iota,s_{\xi}} = l_{(i(f,s)\circ \iota),(i(f,s)~s_{\xi})} = l_{f,s}
$$
which shows that $\varphi$ and $\xi$ are inverse natural transformations.

Furthermore, the map $\varphi$ is the external version of the canonical map $A(\xi)\rightarrow \A^{\Spec(A(\xi))}$.
The fact that this map is an isomorphism is an (internally) equivalent statement of the second axiom.



\subsubsection{Sheaf model obtained by localisation from the presheaf model}

We define now a family of propositions. As before, if $A$ is a ring, we let $\Um(A)$ be the type of unimodular sequences
(\Cref{unimodular})
$f_1,\dots,f_n$ in $A$, i.e.\ such that $(1) = (f_1,\dots,f_n)$. To any element $\vec{r} = r_1,\dots,r_n$
in $\Um(\A)$ we associate
the proposition $D(\vec{r}) = D(r_1)\vee\dots\vee D(r_n)$. If $\vec{r}$ is the empty sequence then
$D(\vec{r})$ is the proposition $1 =_\A 0$. %For $n=0$, we get the proposition $1=_\A 0$.

  Starting from any model of dependent type theory with univalence satisfying the 4 axioms above, we build a new
  model of univalent type theory by considering the types $T$ that are modal for all modalities defined by the propositions
  $D(\vec{r})$, i.e.\ such that all diagonal maps $T\rightarrow T^{D(\vec{r})}$ are equivalences.
  This new model is called the \emph{sheaf model}.

    This way of building a new sheaf model can be described purely syntactically, as in \cite{Quirin16}. In \cite{CRS21}, we extend
    this interpretation to cover inductive data types. In particular, we describe there the sheafification $\nats_S$ of the type
    of natural numbers with the unit map $\eta:\nats\rightarrow\nats_S$. 

    A similar description can be done starting with the $1$-presheaf model. In this case, we use for the propositional truncation of a
    presheaf $A$ the image of the canonical map $A\rightarrow 1$. We however get a model of type theory {\em without} universes when we
    consider modal types.

    \begin{proposition}\label{modal}
      The ring $\A$ is modal. It follows that any f.p.\ $\A$-algebra is modal.
    \end{proposition}

    \begin{proof}
      If $r_1,\dots,r_n$ is in $\Um(\A)$, we build a patch function $\A^{D(r_1,\dots,r_n)}\rightarrow \A$.
      Any element $u:\A^{D(r_1,\dots,r_n)}$ gives a compatible family of elements $u_i:\A^{D(r_i)}$, hence
      a compatible family of elements in $\A_{r_i}$ by quasi-coherence. But then it follows from local-global
      principle \cite{lombardi-quitte}, that we can patch this family to a unique element of $\A$.
      
      If $A$ is a f.p.\ $\A$-algebra, then $A$ is isomorphic to $\A^{\Spec(A)}$ and hence is modal.
    \end{proof}

    \begin{proposition}
      In this new sheaf model, $\perp_S$ is $1 =_\A 0$.
    \end{proposition}

    \begin{proof}
      The proposition $1=_\A0$ is modal by the previous proposition.
      If $T$ is modal, all diagonal maps $T\rightarrow T^{D(\vec{r})}$ are equivalences. For the empty sequence $\vec{r}$
      we have that $D(\vec{r})$ is $\perp$, and the empty sequence is unimodular exactly when $1 =_\A 0$. So $1=_\A0$
      implies that $T$ and $T^{\perp}$ are equivalent, and so implies that $T$ is contractible. By extensionality,
      we get that $(1=_\A0)\rightarrow T$ is contractible when $T$ is modal.
    \end{proof}
    
    \begin{lemma}\label{Um}
      For any f.p.\ $\A$-algebra $A$, we have $\Um(\A)^{\Spec(A)} = \Um(A)$.
    \end{lemma}

    \begin{proof}
      Note that the fact that $r_1,\dots,r_n$ is unimodular is expressed by
      $$\norm{\Sigma_{s_1,\dots,s_n:\A}r_1s_1+\dots+r_ns_n = 1}$$
      and we can use these axioms 2 and 3 to get
      $$\norm{\Sigma_{s_1,\dots,s_n:\A}r_1s_1+\dots+r_ns_n = 1}^{\Spec(A)} = \norm{\Sigma_{v_1,\dots,v_n:A}\Pi_{x:\Spec(A)}r_1v_1(x)+\dots+r_nv_n(x) = 1}$$
      The result follows then from this and axiom 4.
    \end{proof}      
      %, that $A$ is quasi-coherent.
%      \rednote{I think it follows from axioms 4,2 and 3.}


%%     If $A$ is a ring, a fundamental system of orthogonal idempotents $e_1,\dots,e_p$ of $A$ is a sequence of 
%%     idempotent elements satisying $e_1+\dots+e_p = 1$ and $e_ie_j = 0$ if $i\neq j$. We then have a partition
%%     of $\Spec(A)$ into open subsets $\Spec(A_{e_i})$.

%%     \begin{lemma}\label{nats}
%%       For any function $u:\nats^{\Spec(A)}$ there exists a fundamental system of orthogonal idempotents $e_1,\dots,e_p$, and corresponding
%%       numbers $n_1,\dots,n_p$ such that $u$ is constant and equal to $n_i$ on $\Spec(A_{e_i})$.
%%     \end{lemma}

%%     We write $Um(A)$ for $\Sigma_{n:\nats}\Um(A)$.

%%     \begin{corollary}
%%       If $A$ is a f.p. ring, then any function in $Um(\A)^{\Spec(A)}$ is given by
%%       a fundamental system of orthogonal idempotents $e_1,\dots,e_p$, and corresponding elements in $Um(A_{e_1}),\dots,Um(A_{e_p})$.
%%     \end{corollary}
    
    For an f.p.\ $\A$-algebra $A$, we can define the type of presentations $Pr_{n,m}(A)$ as the type $A[X_1,\dots,X_n]^m$.
    Each element in $Pr_{n,m}(A)$ defines an
    f.p.\ $A$-algebra. Since $Pr_{n,m}(A)$ is a modal type since $A$ is f.p., the type of presentations $Pr_{n,m}(A)_S$ in the sheaf model
    defined for $n$ and $m$ in $\nats_S$ will be such that $Pr_{\eta p,\eta q}(A)_S = Pr_{p,q}(A)$ \cite{CRS21}.
%    We have $Pr(\A)^{\Spec(A)} = Pr(A)$. \rednote{Def of Pr missing}
    
    \begin{lemma}\label{propsheaf}
      If $P$ is a proposition, then the sheafification of $P$ is
      $$\norm{\Sigma_{(r_1,\dots,r_n):\Um(\A)}P^{D(r_1,\dots,r_n)}}$$
    \end{lemma}
    
    \begin{proof}
      If $Q$ is a modal proposition and $P\rightarrow Q$ we have
      $$\norm{\Sigma_{(r_1,\dots,r_n):\Um(\A)}P^{D(r_1,\dots,r_n)}}\rightarrow Q$$
      since
      $P^{D(r_1,\dots,r_n)}\rightarrow Q^{D(r_1,\dots,r_n)}$ and $Q^{D(r_1,\dots,r_n)}\rightarrow Q$.
      It is thus enough to show that
      $$P_0 = \norm{\Sigma_{(r_1,\dots,r_n):\Um(\A)}P^{D(r_1,\dots,r_n)}}$$
      is modal.
      If $s_1,\dots,s_m$ is in $\Um(\A)$ we show $P_0^{D(s_1,\dots,s_m)}\rightarrow P_0$. This follows
      from $\Um(\A)^{D(r)} = \Um(\A_r)$, Lemma \ref{Um}.
    \end{proof}
    

    \begin{proposition}\label{norm}
      For any modal type $T$, the proposition $\norm{T}_S$ is
      $$\norm{\Sigma_{(r_1,\dots,r_n):\Um(\A)}T^{D(r_1)}\times\dots\times T^{D(r_n)}}$$
    \end{proposition}
    
    \begin{proof}
      It follows from Lemma \ref{propsheaf} that the proposition $\norm{T}_S$ is
      $$\norm{\Sigma_{(r_1,\dots,r_n):\Um(\A)}\norm{T}^{D(r_1,\dots,r_n)}} = \norm{\Sigma_{(r_1,\dots,r_n):\Um(\A)}\norm{T}^{D(r_1)}\times\dots\times\norm{T}^{D(r_n)}}$$
      and we get the result using the fact that choice holds for each $D(r_i)$, so that
      \[\norm{T}^{D(r_1)}\times\dots\times\norm{T}^{D(r_n)} = \norm{T^{D(r_1)}}\times\dots\times\norm{T^{D(r_n)}} =
        \norm{T^{D(r_1)}\times\dots\times T^{D(r_n)}}\]
    \end{proof}
    
    \begin{proposition}
      In the sheaf model, $\A$ is a local ring.
    \end{proposition}

    \begin{proof}
      This follows from \Cref{norm} and Lemma \ref{Um}.
    \end{proof}

    \begin{lemma}\label{localfp}
      If $A$ is a $\A$-algebra which is modal and there exists $r_1,\dots,r_n$ in $\Um(\A)$ such that each
      $A^{D(r_i)}$ is a f.p.\ $\A_{r_i}$-algebra, then $A$ is a f.p.\ $\A$-algebra.
    \end{lemma}
    
    \begin{proof}
      Using the local-global principles presented in \cite{lombardi-quitte}, we can patch together the f.p.\ $\A_{r_i}$-algebra
      to a global f.p.\ $\A$-algebra. This f.p.\ $\A$-algebra is modal by Proposition \ref{modal}, and is locally equal to $A$
      and hence equal to $A$ since $A$ is modal.
    \end{proof}

    \begin{corollary}
      The type of f.p.\ $\A$-algebras is modal and is the type of f.p.\ $\A$-algebras in the sheaf model.
    \end{corollary}

    \begin{proof}
          For any $\A$-algebra $A$, we can form a type $\Phi(n,m,A)$ expressing that $A$ has a presentation for some $v:Pr_{n,m}(\A)$,
    as the type stating that there is some map $\alpha:\A[X_1,\dots,X_n]\rightarrow A$ and that $(A,\alpha)$ is universal such that
    $\alpha$ is $0$ on all elements of $v$. We can also look at this type $\Phi(n,m,A)_S$ in the sheaf model. Using the translation
    from \cite{Quirin16,CRS21}, we see that the type $\Phi(\eta n,\eta m,A)_S$ is exactly the type stating that $A$ is presented by
    some $v:Pr_{n,m}(A)$ among the modal $\A$-algebras. This is actually equivalent to $\Phi(n,m,A)$ since any f.p. $\A$-algebra is modal.

     If $A$ is a modal $\A$-algebra which is f.p. in the sense of the sheaf model, this means that we have
     $$\norm{\Sigma_{n:\nats_S}\Sigma_{m:\nats_S}\Phi(n,m,A)_S}_S$$
     This is equivalent to
     $$\norm{\Sigma_{n:\nats}\Sigma_{m:\nats}\Phi(\eta n,\eta m,A)_S}_S$$
     which in turn is equivalent to
     $$\norm{\Sigma_{n:\nats}\Sigma_{m:\nats}\Phi(n,m,A)}_S$$
     Using Lemma \ref{localfp} and Proposition \ref{norm}, this is equivalent to $\norm{\Sigma_{n:\nats}\Sigma_{m:\nats}\Phi(n,m,A)}$.
    \end{proof}

     Note that the type of f.p. $\A$-algebra is universe independent.

    \begin{proposition}
      For any f.p.\ $\A$-algebra $A$, the type $\Spec(A)$ is modal and satisfies the axiom of Zariski local choice in
      the sheaf model.
    \end{proposition}
    
    \begin{proof}
      Let $P(x)$ be a family of types over $x:\Spec(A)$ and assume $\Pi_{x:\Spec(A)}\norm{P(x)}_S$. By Proposition \ref{norm},
      this means $\Pi_{x:\Spec(A)}\norm{\Sigma_{(r_1,\dots,r_n):Um}P(x)^{D(r_1)}\times\dots\times P(x)^{D(r_n)}}$. The result follows
      then from choice over $\Spec(A)$ and Lemma \ref{Um}.
    \end{proof}      

%It is then natural to ask how the global section operation behaves for this model, and we show that
%it satisfies a property similar to Zariski local choice
%\rednote{We do not understand what the global section operation has to do with Zariski choice}. 

    \subsection{Presheaf models of univalence}

    We recall first how to build presheaf models of univalence \cite{CCHM,survey},
    and presheaf models satisfying the 3 axioms of the previous section.

The constructive models of univalence are presheaf models parametrised by an interval object $\II$
(presheaf with two global distinct elements $0$ and $1$ and which is tiny) and a classifier object
$\Phi$ for cofibrations. The model is then obtained as an internal model of type theory inside the
presheaf model. For this, we define $C:U\rightarrow U$, uniform in the universe $U$, operation
closed by dependent products, sums and such that $C(\Sigma_{X:U}X)$ holds. It further satisfies, for $A:U^{\II}$, the transport principle
$$
(\Pi_{i:\II}C(Ai))\rightarrow (A0\rightarrow A1)
$$
We get then a model of univalence by interpreting a type as a presheaf $A$ together with an element
of $C(A)$.

 This is over a base category $\BB$.
 
 If we have another category $\CC$, we automatically get a new model of univalent type theory by
 changing $\BB$ to $\BB\times\CC$.

 A particular case is if $\CC$ is the opposite of the category of f.p.\@ $k$-algebras, where $k$ is a
 fixed commutative ring.

 We have the presheaf $\A$ defined by $\A(J,A) = Hom(k[X],A)$ where $J$ object of $\BB$ and $A$ object of $\CC$.

  The presheaf $\Gm$ is defined by $\Gm(J,A) = Hom(k[X,1/X],A) = A^{\times}$, the set of invertible elements of $A$.

\subsection{Propositional truncation}

    We start by giving a simpler interpretation of propositional truncation. This will simplify
    the proof of the validity of choice in the presheaf model.

    We work in the presheaf model over a base category $\BB$ which interprets univalent type theory,
    with a presheaf $\Phi$ of cofibrations. The interpretation of the propositional
    truncation $\norm{T}$ {\em does not} require the use of the interval $\II$.

    We recall that in the models, to be contractible can be formulated as having an operation
    $\ext(\psi,v)$ which extends any partial element $v$ of extent $\psi$ to a total element.

    The (new) remark is then that to be a (h)proposition can be formulated as having instead
    an operation $\ext(u,\psi,v)$ which, now {\em given}
    an element $u$, extends any partial element $v$ of extent $\psi$ to a total element.

\medskip    

Propositional truncation is defined as follows. An element of $\norm{T}$ is either of the form
$\inc(a)$ with $a$ in $T$, or of the form $\ext(u,\psi,v)$ where $u$ is in $\norm{T}$ and $\psi$
in $\Phi$ and $v$ a partial element of extent $\psi$.

In this definition, the special constructor $\ext$ is a ``constructor with restrictions'' which
satisfies $\ext(u,\psi,v) = v$ on the extent $\psi$ \cite{CoquandHM18}.

\subsection{Choice}

We prove choice in the presheaf model: if $A$ is a f.p.\@ algebra over $\A$ then we have a map
$$
l:(\Pi_{x:\Spec(A)}\norm{P})\rightarrow \norm{\Pi_{x:\Spec(A)}P}
$$

For defining the map $l$, we define $l(v)$ by induction on $v$.
The element $v$ is in $(\Pi_{x:\Spec(A)}\norm{P})(B)$, which can be seen as
an element of $\norm{P}(A)$. If it is $\inc(u)$ we associate $\inc(u)$ and 
if it is $\ext(u,\psi,v)$ the image is $\ext(l(u),\psi,l(v))$.

\subsection{$1$-topos model}

For any small category $\CC$ we can form the presheaf model of type theory over the base category $\CC$ \cite{hofmann,huber-phd-thesis}.

\medskip

We look at the special case where $\CC$ is the opposite of the category of finitely presented $k$-algebras for a fixed
ring $k$.

    In this model we have a presheaf $\A(A) = Hom(k[X],A)$ which has a ring structure.

    In the {\em presheaf} model, we can check that we have $\neg\neg (0=_\A 1)$. Indeed, at any stage $A$ we have
    a map $\alpha:A\rightarrow 0$ to the trivial f.p. algebra $0$, and $0 =_\A 1$ is valid at the stage $0$.

    The previous internal description of the sheaf model applies as well in the $1$-topos setting.

    \medskip

    However the type of modal types in a given universe is not modal in this $1$-topos setting. This problem can actually be seen as a
    motivation for introducing the notion of stacks, and is solved when we start from a constructive model of univalence.

    \subsection{Some properties of the sheaf model}

    \subsubsection{Quasi-coherence}

A module $M$ in the sheaf model defined at stage $A$, where $A$ is a f.p.\@ $k$-algebra, is given by a sheaf over the category
of elements of $A$. It is thus given by a family of modules $M(B,\alpha)$, for $\alpha:A\rightarrow B$, and restriction maps
$M(B,\alpha)\rightarrow M(C,\gamma\alpha)$ for $\gamma:B\rightarrow C$. In general this family is not determined by
its value $M_A = M(A,\idd_A)$ at $A,\idd_A$. The next proposition expresses when this is the case in an internal way
(this characterisation is due to Blechschmidt \cite{ingo-thesis}).

\begin{proposition}
  $M$ is internally quasi-coherent\footnote{In the sense that the canonical map $M\otimes A\rightarrow M^{\Spec(A)}$ is an isomorphism for any
  f.p. $\A$-algebra $A$.} iff we have $M(B,\alpha) = M_A\otimes_A B$ and the restriction map for
  $\gamma:B\rightarrow C$ is $M_A\otimes_A\gamma$.
\end{proposition}

    \subsubsection{Projective space}

We have defined $\bP^n$ to be the set of lines in $V = \A^{n+1}$, so we have
$$
\bP^n ~=~ \Sigma_{L:V\rightarrow \Omega}[\exists_{v:V}\neg (v = 0)\wedge L = \A v]
$$
The following was noticed in \cite{kockreyes}.

\begin{proposition}
  $\bP^n(A)$ is the set of submodules of $A^{n+1}$ factor direct in $A^{n+1}$ and of rank $1$.
\end{proposition}

\begin{proof}
  $\bP^n$ is the set of pairs $L,0$ where $L:\Omega^V(A)$ satisfies the proposition $\exists_{v:V}\neg (v = 0)\wedge L = \A v$ at stage
  $A$. This condition implies that $L$ is a quasicoherent submodule of $\A^{n+1}$ defined at stage $A$.
  It is thus determined by its value $L(A,\idd_A) = L_A$.

  Furthermore, the condition also implies that $L_A$ is locally free of rank $1$. By local-global principle \cite{lombardi-quitte},
  $L_A$ is finitely generated. We can then apply Theorem 5.14 of
  \cite{lombardi-quitte} to deduce that $L_A$ is factor direct in $A^{n+1}$ and of rank $1$.
\end{proof}

One point in this argument was to notice that the condition
$$
\exists_{v:V}\neg (v = 0)\wedge L = \A v
$$
implies that $L$ is quasi-coherent. This would be direct in presence of univalence, since we would have then $L = \A$ as a $\A$-module
and $\A$ is quasi-coherent. But it can also be proved without univalence by transport along isomorphism: a $\A$-module which is
isomorphic to a quasi-coherent module is itself quasi-coherent.


\subsection{Global sections and Zariski global choice}

We let $\Box T$ the type of global sections of a globally defined sheaf $T$.
If $c = r_1,\dots,r_n$ is in $\Um(\A)$ we let $\Box_c T$ be the type $\Box T^{D(r_1)}\times\dots\times\Box T^{D(r_n)}$.

Using these notations, we can state the principle of Zariski global choice
$$
(\Box \norm{T})\leftrightarrow \norm{\Sigma_{c:\Um(k)}\Box_c T}
$$

This principle is valid in the present model.

Using this principle, we can show that $\Box K(\Gm,1)$ is equal to the type of projective modules of rank $1$ over $k$
and that each $\Box K(\A,n)$ for $n>0$ is contractible.
                                                                                  
%This should work over $\bP^n$ as well.

 
