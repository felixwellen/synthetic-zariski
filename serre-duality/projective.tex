
\rednote{This section is work in progress by Felix Cherubini and Fabian Endres.}

We use notation from \cite{draft} and \cite{sag-projective}.

\begin{definition}
  \label{Pn-definitions}
  $\bP^n$ may be defined as one of the following equivalent types:
  \begin{enumerate}[(i)]
  \item The type of lines\footnote{Submodules $M\subseteq R^{n+1}$ with $\| M=R^1 \|$} through the origin in $R^{n+1}$.
  \item The set-quotient of $R^{n+1}\setminus\{0\}$ by the relation $x\sim y$ iff $x=\lambda y$ for some $\lambda :R^\times$.
  \item\label{Pn-as-homotopy-quotient} The homotopy quotient:
    \[
      \sum_{l : K(R^\times,1)} l^{n+1}\setminus\{0\}
    \]
  \end{enumerate}
\end{definition}

\begin{lemma}
  \label{D-for-Pn}
  Let $U\subseteq \bP^n$.
  The following are equivalent:
  \begin{enumerate}[(i)]
  \item $U$ is open.
  \item $U=D(P_0,\dots,P_l)$ for $P_i:R[X_0,\dots,X_n]_d$.
  \item There are $N:\N$ and $s_0,\dots,s_l:\prod \mathcal O(1)^{\otimes N}$ such that\index{$D(s_0,\dots,s_l)$}
    \[
      U=D(s_0,\dots,s_l)\colonequiv\sum_{x:X}s_0(x)\neq 0\vee \dots \vee s_l(x)\neq 0
      \rlap{.}
    \]
  \end{enumerate}
\end{lemma}

The equivalence between the last two statements follows from \cite{cech-draft}[Theorem 8.3].
The following is a direct consequence of \Cref{Pn-definitions} \ref{Pn-as-homotopy-quotient}:

\begin{remark}
  The type of maps $X\to \bP^n$ is equivalent to the type
  \[
  (\mathcal L:X\to K(R^\times,1))\times (s_0,\dots,s_n:(x:X)\to \mathcal L_x) \to (x:X) \to \exists_{i} s_i(x)\neq 0
  \]
  i.e.\ the type of line bundles on $X$ that come with $n+1$ sections that do not simultaneously vanish.
\end{remark}

\begin{definition}
  A line bundle $\mathcal L:X\to K(R^\times,1)$ is called \notion{very ample}
  if one of the following equivalent statement holds:
  \begin{enumerate}[(i)]
  \item There is a closed embedding $i:X\to \bP^n$ and $\mathcal L=i_\ast \mathcal O(1)$.
  \item There are non-simultaneously vanishing sections $s_0,\dots,s_n$ of $\mathcal L$
    such that $[s_0,\dots,s_n]:X\to \bP^n$ is a closed embedding.
  \end{enumerate}
\end{definition}

\begin{proof}
  All we have to do is to show that if (ii) holds, for $i\colonequiv [s_0,\dots,s_n]$,
  there is an equality $\mathcal L=i_\ast \mathcal O(1)$.
  Let $x:X$ and note first that $\mathcal O(-1)_x$ is generated by $(s_0,\dots,s_n)^T$.
  Let $\varphi:R^1\to \mathcal L_x$ be an isomorphism of $R$-modules.
  Then there are $\lambda_0,\dots,\lambda_n$ such that $\sum \lambda_i s_i(x) =\varphi(1)$,
  which lets us define:
  \begin{center}
    \begin{tikzcd}
      \mathcal L_x \ar[r] & \mathcal O(1)=\Hom_R(\mathcal O(-1),R) \\
      \lambda \cdot \varphi(1)\ar[mapsto,r] & \sum \lambda_i \varphi^{-1}(s_i(x))
    \end{tikzcd}
  \end{center}
  which is an isomorphism independent of the choice of $\varphi$.
\end{proof}

This is a variant of \cite{vakil}[Theorem 17.6.2] (which might hold):

\begin{definition}
  Let $X$ be a proper scheme.
  A line bundle $\mathcal L : X\to K(R^\times,1)$ is \notion{ample}
  if one of the following equivalent statements holds:
  \begin{enumerate}[(i)]
  \item There is $N>0$ such that $\mathcal L^{\otimes N}$ is very ample.
  \item Any open subset $U\subseteq X$ is of the form $U=D(s_0,\dots,s_n)$,
    for some $s_i:\mathcal L^{\otimes l_i}(X)$ with $l_i>0$.
  \item Any open subset $U\subseteq X$ is of the form $U=D(s_0,\dots,s_n)$,
    for some $N>0$ and $s_i:\mathcal L^{\otimes N}(X)$.
  \item For any finite type, weakly quasi-coherent module bundle $\mathcal F:X\to \Mod{R}_{\mathrm{wqc,fg}}$,
    there is $N>0$, $j:\N$ and a (pointwise) surjection
    $\mathcal O^{\oplus j}\to \mathcal F\otimes \mathcal L^{\otimes N}$.
  \end{enumerate}
\end{definition}

\begin{definition}
  For a scheme $X$, we call
  \[
    T_X : X \to \Mod{R},\; x \mapsto T_xX
  \]
  the \emph{tangent bundle} and
  \[
    \Omega_X : X \to \Mod{R},\; x \mapsto T_xX^\vee
  \]
  then \emph{cotangent bundle}.
  If $X$ is smooth of dimension $n$, we write $\omega_X :\equiv \det(\Omega_X) :\equiv \bigwedge^n\Omega_X$ for the  \emph{canonical line bundle}.
\end{definition}

\begin{lemma}
  There are pointwise exact sequences of $R$-modules
  \[
    0 \longrightarrow
    \mathcal O_{\bP^n} \longrightarrow
    \mathcal O(1)^{\oplus n+1} \longrightarrow
    T_{\bP^n} \longrightarrow
    0
  \]
  and
  \[
    0 \longrightarrow
    \Omega_{\bP^n} \longrightarrow
    \mathcal O(-1)^{\oplus n+1} \longrightarrow
    \mathcal O_{\bP^n} \longrightarrow
    0,
  \]
  where the maps are to be specified in the proof below.
\end{lemma}

  We give a coordinate free proof of this statement.

\begin{proof}
  Let $x :\equiv (l,p) : \bP^n$ be arbitrary.
  The exactness of the second sequence follows from the exactness of the first by dualizing,
  which is exact in this case as $T_x\bP^n$ is a free $R$-module.
  For the first sequence, we represent projective space as the homotopy quotient
  \[
    \bP^n = \sum_{l : K(R^\times,1)} l^{n+1}\setminus\{0\}
  \]
  and define auxiliary maps
  \[
    \pi : l^{n+1}\setminus\{0\} \to \bP^n, q \mapsto (l,q)
  \]
  as well as
  \[
    \alpha : l^{\oplus n+1} \to T_p(l^{n+1}\setminus\{0\}), v \mapsto (r \mapsto p + rv).
  \]
  Note that $\alpha$ is an isomorphism of $R$-modules.
  It suffices to show that the composition
  \[
    l^{\oplus n+1} \overset{\alpha}{\longrightarrow}
    T_p(l^{n+1}\setminus\{0\}) \overset{d_p\pi}{\longrightarrow}
  T_{(l,p)}\bP^n
  \]
  is surjective with kernel generated by $p$, for then $T_x\bP^n = l^{\oplus n+1}/(p)$ and we obtain an exact sequence
  \[
    0 \longrightarrow
    R \overset{1 \mapsto p}{\longrightarrow}
    l^{\oplus n+1} \longrightarrow
    T_x\bP^n \longrightarrow 0.
  \]
  \begin{enumerate}
    \item[i)]
    Note that $\pi$ is smooth, as for any $y : \bP^n$ we have that $\propTrunc{\fib_\pi(y) = R^\times}$ and $R^\times$ is smooth.
    It then follows from \cite[Corollary 4.1.1]{diffgeo-article} that $d_p\pi$ is surjective.


    \item[ii)]
    That the kernel is spanned by $p : l^{\oplus n+1}$ can be seen by virtue of a direct calculation.
    Alternatively, consider the fiber sequence $(\fib_\pi(x),p) \to (l^{n+1}\setminus\{0\},p) \to (\bP^n,x)$.
    It induces an exact sequence
    \[
      0 \longrightarrow
      T_p\fib_\pi(x) \longrightarrow
      T_p(l^{n+1}\setminus\{0\}) \longrightarrow
      T_x\bP^n \longrightarrow
      0,
    \]
    where exactness on the right has been verified in the step before.
    Hence we see that $\ker(d_p\pi \circ \alpha) = T_p\fib_\pi(x)$ is free of rank $1$ and must therefore be generated by the non-zero element $p$.
\end{enumerate}
\end{proof}

\begin{corollary}\label{canonical-bundle-as-twist}
  We have an equivalence $\omega_{\bP^n} = \mathcal O(-n-1)$.
\end{corollary}

\begin{proof}
  By virtue of the previous lemma we have
  \[
    \omega_{\bP^n} = \det(\Omega_X) \otimes \det(\mathcal O_{\bP^n}) = \det(\mathcal O(-1)^{\oplus n+1}) = \mathcal O (-n-1).
  \]
\end{proof}

\subsection{Eventually Globally Generated Bundles}

\rednote{TODO: Check and streamline proofs. Unify notation.}

In this section we show that any weakly quasi-coherent and finitely generated bundle on a projective space is eventually globally generated, i.e.\ we show that sufficiently high twists of that bundle are globally generated.

\begin{lemma}
  \label{wqc+fg-bundle-is-explicitly-generated}
  Let $X=\Spec A$ be an affine scheme and let $\mathcal F : X \to \Mod{R}$ be a weakly quasi-coherent and finitely generated bundle of $R$-modules.
  Then the proposition
  \[
    \Big\Vert
      \sum_{N:\N}\prod_{x:X}\Hom_R^\mathrm{surj}(R^N,\mathcal F_x)
    \Big\Vert
  \]
  holds. Here $\Hom_R^\mathrm{surj}$ denotes the set of surjective $R$-module morphisms.
\end{lemma}

\begin{proof}
  By virtue of Zariski-local choice and boundedness there merely is an open cover $D(f_1), ..., D(f_m) \subseteq X$ as well as surjective $R$-module morphisms $\alpha_{i,x} : R^n \to \mathcal F_x$ for all $i=1, ..., m$ and $x:D(f_i)$.
  Since $\mathcal F$ is weakly quasi-coherent, the induced $A_{f_i}$-linear map
  \[
    \textstyle\prod_{x:D(f_i)}\alpha_{i,x} :  A_{f_i}^n \longrightarrow \Gamma (D(f_i),\mathcal F) = \Gamma (X,\mathcal F)_{f_i}
  \]
  is again surjective. We may merely find $s_{i1}, ..., s_{in}:\Gamma (X,\mathcal F)$ and $n_{ij}:\N$ such that this map takes the standard basis vector $e_j$ to $s_{ij}/f_i^{n_{ij}}$.
  Then for all $x:X$ the $R$-linear maps
  \[
    \beta_x : R^{m \times n} \longrightarrow \mathcal F_x, \;
    e_{ij} \longmapsto s_{ij}(x)
  \]
  are surjective, hence we win.
\end{proof}

The following lemmas and parts of their proofs carry over from \cite[Chapter II.5]{Hartshorne}.

\begin{lemma}
  \label{affine-extension-of-sections}
  Let $X = \Spec A$ be an affine scheme and $f:A$.
  Let $\mathcal F:X\to \Mod{R}_{\mathrm{wqc}}$ be a weakly quasi-coherent bundle of $R$-modules.
  \begin{enumerate}[(i)]
    \item Given $s:\Gamma (X,\mathcal F)$ with $s|_{D(f)} = 0$  there merely exists a $n>0$ such that $f^ns=0$.
    \item For any section $t:\Gamma(D(f),\mathcal F)$ there merely exists a $n>0$
      such that $f^nt$ extends to a global section of $\mathcal F$.
  \end{enumerate}
\end{lemma}

\begin{proof}
  Since $\mathcal F$ is weakly quasi-coherent we have $\Gamma (X,\mathcal F)_f = \Gamma (D(f),\mathcal F)$.
  This implies both the first and second part.
\end{proof}


\begin{lemma}
  \label{extension-of-sections-by-twisting}
  Let $X$ be a scheme and $\mathcal L$ a line bundle on $X$ with a given section $f:\Gamma (X,\mathcal L)$.
  Let $\mathcal F:X\to \Mod{R}_{\mathrm{wqc}}$ be a weakly quasi-coherent bundle of $R$-modules.
  Denote by $X_f \subseteq X$ the open locus where $f$ does not vanish.
  \begin{enumerate}[(i)]
    \item Given $s:\Gamma (X,\mathcal F)$ with $s|_{X_f} = 0$ there merely exists a $n>0$ such that $f^ns=0$,
      when considered as a global section of $\mathcal F \otimes \mathcal L^{\otimes n}$.
    \item For any section $t:\Gamma (X_f,\mathcal F)$ there merely exists a $n>0$
      such that $f^nt$ extends to a global section of $\mathcal F \otimes \mathcal L^{\otimes n}$.
  \end{enumerate}
\end{lemma}

This generalizes the above lemma by simultaneously allowing non-affine schemes, as well as twists.

\begin{proof}
  For the first part consider any affine open subscheme $U=\Spec A$ of $X$ that trivializes $\mathcal L$,
  i.e. suppose there is an equivalence  $\varphi:\mathcal L_U \to \mathcal O_U$ and set $g :\equiv \varphi(f|_U)$.
  Thus we have $X_f\cap U = D(g)$ and $s|_{D(g)}=0$.
  By virtue of \Cref{affine-extension-of-sections} there is a $n>0$ such that $g^ns=0:\Gamma (U,\mathcal F)$.
  Using the equivalence $\mathcal F|_U\otimes\mathcal L^{\otimes n}|_U \to \mathcal F|_U$ this implies $f^ns=0$,
  when considered as a section of $\mathcal F\otimes\mathcal L^{\otimes n}$ over $U$.
  Since $X$ can be covered by finitely many such $U$, we finally obtain a natural number $n>0$ such that $f^ns=0$ as a global section of $\mathcal F\otimes\mathcal L^{\otimes n}$.

  \rednote{TODO: write up part (ii)}
\end{proof}

\begin{proposition}
  \label{fp-module-bundle-globally-generated}
  Let $\mathcal F:\bP^n \to \Mod{R}$ be a weakly quasi-coherent and finitely generated $R$-module bundle.
  Then there merely are $m\geq 0$, $q\leq 0$ and a surjection
  \[ \mathcal O(q)^{\oplus m}\to \mathcal F\rlap{.}\]
  Furthermore, if $\mathcal F$ is even finitely presented, there are $m,l\geq 0$, $p ,q\leq 0$ and an exact sequence:
  \[ \mathcal O(p)^{\oplus l}\to \mathcal O(q)^{\oplus m}\to \mathcal F\to 0\rlap{.}\]
\end{proposition}
\begin{proof}
  Let $U_i = D(x_i)$ be the standard affine cover of $\bP^n$.
  By virtue of lemma \ref{wqc+fg-bundle-is-explicitly-generated} we can find sections $s_{ij} : (x:U_i) \to \mathcal F_x$ such that $s_{i1}(x), ..., s_{im}(x)$ generate $\mathcal F_x$ for all $x:U_i$.
  Using lemma \ref{extension-of-sections-by-twisting} we find $n:\mathbb{N}$ such that $x_i^ns_{ij}$ extends to a global section $t_{ij}:\Gamma (\bP^n,\mathcal F(n))$.
  Then the sections $\{t_{ij}\}_{ij}$ generate $\mathcal F(n)$ at every point $x:\bP^n$.

  For the second part we use \cite[Chapter IV, 1.0 Lemma]{lombardi-quitte} to see that the kernel of a surjection from a finite free module to a finitely presented module is finitely generated.
  The claim follows from this.
\end{proof}

The following corollary might be the start of an argument showing that the cohomology modules of Adelman bundles are Adelman.

\begin{corollary}
  If $\mathcal F : \bP^n \to \Mod R$ is a bundle of finitely presented $R$-modules on $\bP^n$, then $H^n(\bP^n, \mathcal F)$ is a finitely presented $R$-module as well.
  Dually, if $\mathcal F$ is pointwise finitely copresented, then $H^0(\bP^n, \mathcal F)$ is a finitely copresented $R$-module.
\end{corollary}

\begin{proof}
  For the first part choose an exact sequence $\mathcal O(p)^{\oplus l}\to \mathcal O(q)^{\oplus m}\to \mathcal F\to 0$ and let $\mathcal K$ be the kernel of the surjection $\mathcal O(q)^{\oplus m}\to \mathcal F$.
  The long exact sequence of cohomology gives an exact sequence
  \[
    ... \to H^n(\bP^n,\mathcal K) \to H^n(\bP^n, \mathcal O(q)^{\oplus m}) \to H^n(\bP^n,\mathcal F) \to 0.
  \]
  The module in the middle is finite free and the module to the left is finitely generated,  since the canonical surjection $\mathcal O(p)^{\oplus l} \to \mathcal K$ induces a surjection $H^n(\bP^n, \mathcal O(p)^{\oplus l}) \to H^n(\bP^n, \mathcal K)$.
  Therefore $H^n(\bP^n, \mathcal F)$ is finitely presented.

  For the second part note that since dualizing is an involution, we may find an exact sequence $0 \to \mathcal F \to \mathcal O(-q)^{\oplus m} \to \mathcal O(-p)^{\oplus l}$. We then may finish the proof by arguing dually to the first part.
\end{proof}
