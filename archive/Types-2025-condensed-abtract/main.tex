%latexmk -pdf -pvc main.tex
\documentclass[letterpaper]{../util/easychair}
\usepackage{doc}
\usepackage[expansion=true,protrusion=true]{microtype}
%
\newcommand{\easychair}{\textsf{easychair}}
\newcommand{\miktex}{MiK{\TeX}}
\newcommand{\texniccenter}{{\TeX}nicCenter}
\newcommand{\makefile}{\texttt{Makefile}}
\newcommand{\latexeditor}{LEd}

% some stuff from ../util/zarisky.cls:
\RequirePackage{amsmath,amssymb,mathtools}
\newtheorem{axiom}{Axiom}

\RequirePackage{tikz}
\usetikzlibrary{arrows, cd, babel}

% Referenzen
\RequirePackage[backend=biber,style=alphabetic, backref, backrefstyle=none]{biblatex}
\addbibresource{../util/literature.bib}

%Numbers for axiom in abstract


% content of ../util/zarisky.sty:
% names for types
% names for types
\newcommand{\R}{\mathbb{R}}
\newcommand{\Z}{\mathbb{Z}}
\newcommand{\N}{\mathbb{N}}
\newcommand{\Bool}{\mathrm{Bool}}
\DeclareMathOperator{\Fin}{Fin}
\newcommand{\unit}{\mathbf{1}}
\newcommand{\two}{\mathbf{2}}
\newcommand{\isContr}{\mathrm{isContr}}
\newcommand{\isProp}{\mathrm{isProp}}
\newcommand{\isSet}{\mathrm{isSet}}
\newcommand{\isEquiv}{\mathrm{isEquiv}}
\newcommand{\qinv}{\mathrm{qinv}}
\newcommand{\mU}{\mathcal{U}}
\newcommand{\Eq}[1]{\mathrm{Eq}_{#1}}
\newcommand{\isNType}[1]{\mathrm{is}\mbox{-}{#1}\mbox{-}\mathrm{type}}
\newcommand{\nType}[1]{#1\mbox{-}\mathrm{Type}}
\newcommand{\Type}{\mathrm{Type}}
\newcommand{\Prop}{\mathrm{Prop}}
\newcommand{\Open}{\mathsf{Open}}
\newcommand{\Susp}{\mathrm{Susp}}
\newcommand{\propTrunc}[1]{\lVert #1 \rVert}
\newcommand{\norm}[1]{\lVert #1 \rVert}
\newcommand{\Um}{\mathrm{Um}}
\newcommand{\Boole}{\mathsf{Boole}}
\newcommand{\Stone}{\mathsf{Stone}}
\newcommand{\CHaus}{\mathsf{CHaus}}
\newcommand{\Chaus}{\mathsf{CHaus}}
\newcommand{\ODisc}{\mathsf{ODisc}}
\newcommand{\Noo}{\N_{\infty}}
\newcommand{\Closed}{\mathsf{Closed}}
\newcommand{\ints}{\mathbb{Z}}
%\newcommand{\KR}{K(R^{\times},1)}
\newcommand{\KR}{\mathsf{Line}}
\newcommand{\B}{\mathrm{B}}

% names for terms
\newcommand{\id}{\mathrm{id}}
\newcommand{\refl}{\mathrm{refl}}
\newcommand{\pair}{\mathrm{pair}}
\newcommand{\FunExt}{\mathrm{FunExt}}
\newcommand{\transp}{\mathrm{tr}}
\newcommand{\transpconst}{\mathrm{tconst}}
\newcommand{\ua}{\mathrm{ua}}
\newcommand{\fib}{\mathrm{fib}}
\newcommand{\pt}{\mathrm{pt}}

% category theory
\newcommand{\Hom}{\mathrm{Hom}}
\newcommand{\Sh}{\mathrm{Sh}}
\newcommand{\yo}{\mathrm{y}}

% algebra
\newcommand{\inv}{\mathrm{inv}}
\newcommand{\divides}{\mathbin{|}}
\DeclareMathOperator{\AbGroup}{Ab}
\DeclareMathOperator{\im}{im}
\DeclareMathOperator{\coker}{coker}
\newcommand{\Tors}[1]{#1\text{-}\mathrm{Tors}}
\newcommand{\Mod}[1]{#1\text{-}\mathrm{Mod}}
\newcommand{\Vect}[2]{#1\text{-}\mathrm{Vect}_{#2}}
\newcommand{\fpMod}[1]{#1\text{-}\mathrm{Mod}_{\text{fp}}}
\newcommand{\Alg}[1]{#1\text{-}\mathrm{Alg}}
\newcommand{\Sym}{\mathrm{Sym}}

% algebraic geometry
\DeclareMathOperator{\Sp}{Spec}
\DeclareMathOperator{\Spec}{Spec}
\DeclareMathOperator{\Sch}{\mathrm{Sch}_{qc}}
\newcommand{\A}{\mathbb{A}}
\newcommand{\D}{\mathbb{D}}
\newcommand{\bP}{\mathbb{P}}
\newcommand{\Gm}{\mathbb{G}_m}
\newcommand{\OO}{\mathcal{O}}
\newcommand{\mm}{\mathfrak{m}}
\newcommand{\Bl}{\mathrm{Bl}}
\DeclareMathOperator{\PGL}{PGL}
\DeclareMathOperator{\GL}{GL}
\newcommand{\Pic}{\mathrm{Pic}}
\newcommand{\Gr}{\mathrm{Gr}}
\newcommand{\Aut}{\mathrm{Aut}}


% misc
\newcommand{\I}{\mathbb{I}}
\newcommand{\bD}{\mathbb{D}}
\newcommand{\notion}[1]{\emph{#1}\index{#1}}
\providecommand*\colonequiv{\vcentcolon\mspace{-1.2mu}\equiv}
\newcommand{\ignore}[1]{}
\newcommand{\rednote}[1]{{\color{red}(#1)}}

% cohesion
\DeclareMathOperator{\shape}{\textrm{\textesh}}

% condensed
\newcommand{\isSt}{\mathrm{isStone}}
\newcommand{\bS}{\mathbb{S}}


%
\title{Cohomology in Synthetic Stone Duality 
}

% Authors are joined by \and. 
% Their affiliations are given by \inst, which indexes
% into the list defined using \institute
%
\author{
Felix Cherubini %\inst{1}
% uncomment the following for multiple authors.
\and 
 Thierry Coquand% \inst{2}%
\and 
 Freek Geerligs% \inst{3}%
\and
 Hugo Moeneclaey %\inst{4}%
\thanks{Speaker.}%
}

% Institutes for affiliations are also joined by \and,
\institute{
  University of Gothenburg and Chalmers University of Technology, Gothenburg, Sweden%\\
}
%  \email{felix.cherubini@posteo.de}
%% uncomment the following for multiple authors.
%\and
%  University of Gothenburg\\
%  \email{Thierry.Coquand@cse.gu.se}
%\and
%  University of Gothenburg\\
%  \email{geerligs@chalmers.se}
%\and
%  University of Gothenburg\\
%  \email{hugomo@chalmers.se}
%}

%  \authorrunning{} has to be set for the shorter version of the authors' names;
% otherwise a warning will be rendered in the running heads. When processed by
% EasyChair, this command is mandatory: a document without \authorrunning
% will be rejected by EasyChair
\authorrunning{Cherubini, Coquand, Geerligs and Moeneclaey}

% \titlerunning{} has to be set to either the main title or its shorter
% version for the running heads. When processed by
% EasyChair, this command is mandatory: a document without \titlerunning
% will be rejected by EasyChair
\titlerunning{Cohomology in Synthetic Stone Duality}

\begin{document}
\maketitle
Peter Scholze and Dustin Clausen \cite{Scholze} introduced light condensed sets, defined as sheaves on the site of light profinite sets. They can be used as an alternative to topological spaces. 
Synthetic Stone duality is an extension of homotopy type theory by four axioms, which was introduced in \cite{synthetic-stone-duality}. In this article, it was proven that $H^1(S,\Z) = 0$ for $S$ a Stone space, that $H^1(X,\Z)$ for $X$ compact Hausdorff can be computed using \v{C}ech cohomology and that $H^1(\mathbb{I},\Z) = 0$ where $\mathbb{I}$ is the unit interval. In this talk we will present the extension of these results to higher cohomology groups with non-constant countably presented abelian groups as coefficients. Those are synthetic analogues of results from Roy Dyckhoff \cite{dyckhoff76,dyckhoff76-1}.

\paragraph*{Synthetic Stone Duality}

In our setting, Stone spaces are precisely \emph{countable} sequential limits of finite sets, making them analogous to \emph{light} profinite sets. The construction of a model making this analogy rigorous is still work in progress.

The axioms of synthetic Stone duality postulate Stone duality (Stone spaces are equivalent to countably presented Boolean algebras), completeness (non-empty Stone spaces are merely inhabited), dependent choice and a \emph{local-choice} axiom. The latter says that given a Stone space $S$ and a type family $B$ over $S$ such that $\Pi_{x:S} \| B(x)  \|$, there merely is a Stone space $T$ and a surjection $s:T\twoheadrightarrow S$ such that $\Pi_{x:T} B(s(x))$. Local choice is crucial when performing the cohomological computations mentioned below.

Many traditional properties of Stone spaces can be shown synthetically, sometimes phrased in a more type-theoretic way, e.g. Stone spaces are closed under $\Sigma$-types. Open and closed propositions can be defined, inducing a topology on any type such that any map is continuous. This topology is as expected for Stone spaces and compact Hausdorff spaces (i.e. quotient of Stone spaces by closed equivalence relations).

One important example of compact Hausdorff space is the real interval $\I$, from which the type $\R$ of real numbers is constructed. This is equivalent to the usual constructions of both Cauchy and Dedekind reals.
As in \cite{shulman-Brouwer-fixed-point}, it is important to distinguish topological spaces like $\bS^1:=\{x,y:\R\ \vert\ x^2+y^2=1\}$ from homotopical spaces like the higher inductive 1-type $S^1$.

Despite topological spaces being sets, they can have non-trivial cohomology. Indeed, for any type $X$ and dependent abelian group $A:X\to \mathrm{Ab}$, we use the usual synthetic definition of the $n$-th cohomology group $H^n(X,A)$ as $\|\Pi_{x:X}K(A_x,n)\|_0$ where $K(A_x,n)$ is the $n$-th Eilenberg Mac-Lane space with coefficient $A_x$. In \cite{synthetic-stone-duality}, it is proven that $H^1(\bS^1,\Z)=\Z$, despite $\bS^1$ being a set.

We prove Barton and Commelin's condensed type theory axioms \cite{barton2024condensed} in synthetic Stone duality, as well as dependent generalisations of them. These are used to show that any compact Hausdorff space $X$ interact well with any family of countably presented abelian groups $A:X\to \mathrm{Ab}_{\mathrm{cp}}$.

%\paragraph*{Barton and Commelin's condensed type theory}

%Reid Barton and Johann Commelin proposed an extension of type theory called condensed type theory. It postulates two classes of types called compact Hausdorff spaces and overtly discrete types, with certain duality axioms relating them. We prove the axioms of Barton and Commelin in synthetic Stone duality, defining compact Hausdorff spaces as quotients of Stone spaces by closed equivalence relations and overtly discrete types as sequential colimits of finite types.

%An abelian group is overtly discrete if and only if it is countably presented, and we will use these groups as coefficients for cohomology. The following are crucial for our results:
%\begin{itemize} 
%\item Barton and Commelin's dual to Tychonoff: For any compact Hausdorff space $X$ and overtly discrete types $B_x$ for $x:X$, the dependent product $\Pi_{x:X}B(x)$ is overtly discrete.
%\item Generalisations of both Barton and Commelin's Scott continuity and factorisation axioms: For exmaple, given sequences of compact Hausdorff spaces $(C_k)_{k:\N}$ and overtly discrete types $(I_i)_{i:\N}$, we have what we call generalised Scott continuity:
%\[\mathrm{colim}_{k,i}(C_k\to I_i) \simeq \left(\mathrm{lim}_kC_k \to \mathrm{colim}_iI_i\right)\]
%\end{itemize}


\paragraph*{Vanishing of higher cohomology of Stone spaces}

First we prove that $H^1(S,A) = 0$ for all $S$ Stone and $A : S\to \mathrm{Ab}_{\mathrm{cp}}$. We assume $\alpha:\prod_{x:S}K(A_x,1)$, by local choice we get a surjection $p:T\twoheadrightarrow S$ with $T$ Stone which trivialises $\alpha$. Then we get an approximation of $p$ as a sequential limit of surjective maps $p_k:T_k\to S_k$ between finite sets, we check that the induced trivialisation over $T_k$ gives a trivialisation over $S_k$, and conclude through our dependent generalisations of Barton and Commelin's axioms that $\alpha$ is trivial over $\mathrm{lim}_kS_k =S$.

We follow an idea due to David W\"arn \cite[Theorem 3.4]{cech-draft} to go from $H^1(S,A)=0$ to $H^n(S,A)=0$ for all $n>0$. The key idea is to proceed by induction on $n>0$, generalising the induction hypothesis from $H^n(S,A) = 0$ to: 
\begin{itemize}
\item[(i)~] $ K(\prod_{x:S}A_x,n) \to \prod_{x:S}K(A_x,n)$ is an equivalence, directly implying $H^n(S,A)=0$.
\item[(ii)] $ K(\prod_{x:S}A_x,n+1) \to \prod_{x:S}K(A_x,n+1)$ is an embedding.
\end{itemize}
Assume (i) and (ii) for $n>0$, let's prove (i) and (ii) for $n+1$. (ii) follows immediately from (i). To prove (i), by induction hypothesis (ii) it is enough to prove that $\prod_{x:S}K(A_x,n+1)$ is connected, i.e. $H^{n+1}(S,A)=0$. We assume $\alpha:\prod_{x:S}K(A_x,n+1)$, by local choice we get a trivialisation $p:T\twoheadrightarrow S$ of $\alpha$ with $T$ Stone. Denoting by $T_x$ the fiber of $p$ over $x$, we consider the exact sequence $0\to A_x\to A_x^{T_x}\to L_x\to 0$ giving an exact sequence:
\[H^{n}(S,L)\to H^{n+1}(S,A)\to H^{n+1}(S,\lambda x. A_x^{T_x})\]
By induction hypothesis (i) we have that $H^{n}(S,L) = 0$ so we have an injection:
\[H^{n+1}(S,A)\to H^{n+1}(S,\lambda x. A_x^{T_x})\]
By induction hypothesis (ii) the map: 
\[H^{n+1}(S,\lambda x. A_x^{T_x}) \to H^{n+1}(\Sigma_{x:S}T_x,A_x) = H^{n+1}(T,A\circ p)\]
is an injection so that we get an injection:
\[p^* : H^{n+1}(S,A)\to H^{n+1}(T,A\circ p)\] 
But $p$ trivialises $\alpha$ so $p^*(\alpha)=0$, therefore $\alpha=0$.

\paragraph*{\v{C}ech cohomology for compact Hausdorff spaces}

Given a compact Hausdorff space $X$, a \v{C}ech cover for $X$ consists of a Stone space $S$ and a surjective map $p:S\twoheadrightarrow X$. By definition any compact Hausdorff space has a \v{C}ech cover.

Given such a \v{C}ech cover and $A:X\to \mathrm{Ab}_{\mathrm{cp}}$, we define its \v{C}ech complex as:
\[\Pi_{x:X}A_x^{S_x} \to \Pi_{x:X}A_x^{S_x\times S_x} \to \cdots\]
with the boundary maps defined as expected, and its \v{C}ech cohomology $\check{H}^k(X,A)$ as the $k$-th homology group of its \v{C}ech complex. It is clear that $H^0(X,A) = \check{H}^0(X,A)$.
%\[\delta(\alpha)(x,u_0,\cdots,u_n) = \sum_{i=0}^n (-1)^i\alpha(x,u_0,\cdots,\hat{u_i},\cdots,u_n)\]

From hypothesis (i) in the previous paragraph, for $n>0$ we get an exact sequences:
\[H^{n-1}(X,\lambda x.A_x^{S_x}) \to H^{n-1}(X,L)\to H^n(X,A)\to 0\]
By direct computations, for $n>0$ we get an exact sequence:
\[\check{H}^{n-1}(X,\lambda x.A_x^{S_x}) \to \check{H}^{n-1}(X,L)\to \check{H}^n(X,A)\to 0\]

We conclude by induction on $n$ that $H^n(X,A) = \check{H}^n(X,A)$ for all $n$, so that in particular \v{C}ech cohomology does not depend on the \v{C}ech cover. For this induction to go through it is crucial that $A_x^{S_x}$ is countably presented, which follows from Barton and Commelin's axioms.  Using this result and finite approximations of a well-chosen \v{C}ech cover of $\mathbb{I}$, we can check that $H^n(\mathbb{I},A) = 0$ for all $n>0$ and $A:\mathbb{I}\to \mathrm{Ab}_{\mathrm{cp}}$.

%Using finite approximations to the \v{C}ech cover $2^\N\to \mathbb{I}$, we can check that $H^n(\mathbb{I},A) = 0$ for all $n>0$ and $A:\mathbb{I}\to \mathrm{Ab}_{cp}$.

\printbibliography

\end{document}
